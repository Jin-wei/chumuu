!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function n(t){function e(t){a?(n(),b(e),i=!0,a=!1):i=!1}var n=t,a=!1,i=!1;this.kick=function(t){a=!0,i||e()},this.end=function(t){var e=n;t&&(i?(n=a?function(){e(),t()}:t,a=!0):t())}}function a(){return!0}function i(){return!1}function o(t){t.preventDefault()}function r(t){j[t.target.tagName.toLowerCase()]||t.preventDefault()}function u(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function c(t,e){var n,a;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,a=t.length;++n<a;)if(t[n].identifier===e)return t[n]}function d(t,e){var n=c(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function m(t){h(t,t.data,t,s)}function f(t){s()}function s(){R(document,C.move,m),R(document,C.cancel,f)}function v(t){var e=t.data,n=d(t,e);n&&h(t,e,n,g)}function p(t){var e=t.data;c(t.changedTouches,e.identifier)&&g(e.identifier)}function g(t){R(document,"."+t,v),R(document,"."+t,p)}function h(t,e,n,a){var i=n.pageX-e.startX,o=n.pageY-e.startY;i*i+o*o<D*D||Y(t,e,n,i,o,a)}function l(){return this._handled=a,!1}function X(t){t._handled()}function Y(t,e,n,a,i,o){var r,u;e.target;r=t.targetTouches,u=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=a,e.distY=i,e.deltaX=a,e.deltaY=i,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=a/u,e.velocityY=i/u,e.targetTouches=r,e.finger=r?r.length:1,e._handled=l,e._preventTouchmoveDefault=function(){t.preventDefault()},x(e.target,e),o(e.identifier)}function w(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function y(t){var e=t.data.event,n=t.data.timer;T(),A(e,n,function(){setTimeout(function(){R(e.target,"click",i)},0)})}function T(t){R(document,C.move,w),R(document,C.end,y)}function S(t){var e=t.data.event,n=t.data.timer,a=d(t,e);a&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=a,t.data.timeStamp=t.timeStamp,n.kick())}function k(t){var e=t.data.event,n=t.data.timer;c(t.changedTouches,e.identifier)&&(_(e),A(e,n))}function _(t){R(document,"."+t.identifier,S),R(document,"."+t.identifier,k)}function q(t,e,n,a){var i=n-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/i,t.velocityY=.3*t.velocityY+.7*t.deltaY/i,t.pageX=e.pageX,t.pageY=e.pageY}function A(t,e,n){e.end(function(){return t.type="moveend",x(t.target,t),n&&n()})}var D=6,F=t.event.add,R=t.event.remove,x=function(e,n,a){t.event.trigger(n,a,e)},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},j={textarea:!0,input:!0,select:!0,button:!0},C={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},K={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:function(t,e,n){return F(this,"movestart.move",X),!0},teardown:function(t){return R(this,"dragstart drag",o),R(this,"mousedown touchstart",r),R(this,"movestart",X),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(F(this,"dragstart."+t.guid+" drag."+t.guid,o,e,t.selector),F(this,"mousedown."+t.guid,r,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(R(this,"dragstart."+t.guid+" drag."+t.guid),R(this,"mousedown."+t.guid))},_default:function(t){var a,o;t._handled()&&(a={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:a,timer:new n(function(e){q(a,o.touch,o.timeStamp),x(t.target,a)}),touch:e,timeStamp:e},t.identifier===e?(F(t.target,"click",i),F(document,C.move,w,o),F(document,C.end,y,o)):(t._preventTouchmoveDefault(),F(document,K.move+"."+t.identifier,S,o),F(document,K.end+"."+t.identifier,k,o)))}},t.event.special.move={setup:function(){F(this,"movestart.move",t.noop)},teardown:function(){R(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){F(this,"movestart.moveend",t.noop)},teardown:function(){R(this,"movestart.moveend",t.noop)}},F(document,"mousedown.move",function(t){var e;u(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},F(document,C.move,m,e),F(document,C.cancel,f,e))}),F(document,"touchstart.move",function(t){var e,n;j[t.target.tagName.toLowerCase()]||(n={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},F(document,K.move+"."+e.identifier,v,n),F(document,K.cancel+"."+e.identifier,p,n))}),"function"==typeof Array.prototype.indexOf&&function(t,e){for(var n=["changedTouches","targetTouches"],a=n.length;a--;)-1===t.event.props.indexOf(n[a])&&t.event.props.push(n[a])}(t)});